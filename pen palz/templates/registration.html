{% extends "layout.html" %}

{% block title %}
    Register
{% endblock %}

{% block content %}
<head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"></head>
<body>
    <div class="mb-3"></div>
        <form action="/register" method="post" onsubmit="return validateForm();">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <input autocomplete="off" autofocus class="form-control" id="firstName" name="firstName" placeholder="First Name" type="text">
                </div>
                <div class="col-md-6 mb-3">
                    <input class="form-control" id="lastName" name="lastName" placeholder="Last Name" type="text">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-3">
                    <select class="form-control" id="country" name="country">
                        <option value="" disabled selected>Select a country</option>
                        {% for country in countries %}
                        <option value="{{ country }}">{{ country }}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 mb-3">
                    <input class="form-control" id="username" name="username" placeholder="Username" type="text">
                </div>
                <div class="col-md-4 mb-3">
                    <input class="form-control" id="password" name="password" placeholder="Password" type="password">
                </div>
                <div class="col-md-4 mb-3">
                    <input class="form-control" id="confirmation" name="confirmation" placeholder="Confirm Password" type="password">
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-3 text-center">
                    <button class="btn btn-primary" type="submit">Register</button>
                </div>
            </div>
        </form>
        <div id="result">
            {{ result }}
        </div>
        <div id="result" class="mt-3"></div>

        <script>
            function validateForm() {
                // Retrieve the form input values
                var firstName = document.getElementById("firstName").value;
                var lastName = document.getElementById("lastName").value;
                var country = document.getElementById("country").value;
                var username = document.getElementById("username").value;
                var password = document.getElementById("password").value;
                var confirmation = document.getElementById("confirmation").value;
                var result = document.getElementById("result");

                if (firstName === "") {
                    result.innerHTML = ("Please enter your First Name");
                    return false;
                }

                if (lastName === "") {
                    result.innerHTML = ("Please enter your Last Name");
                    return false;
                }

                if (country === "") {
                    result.innerHTML = ("Please select a country");
                    return false;
                }

                if (username === "") {
                    result.innerHTML = ("Please enter a Username");
                    return false;
                }

                if (password === "") {
                    result.innerHTML = ("Please enter a Password");
                    return false;
                }

                if (confirmation === "") {
                    result.innerHTML = ("Please confirm the Password");
                    return false;
                }

                if (password !== confirmation) {
                    result.innerHTML = ("Passwords do not match");
                    return false;
                }

                return true;
            }
        </script>
</body>
{% endblock %}
